{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/lib/axios.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://127.0.0.1:3001/api',\r\n    timeout: 10000, // 10 segundos de timeout\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Interceptor para inyectar Token\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\n// Interceptor para logs o manejo de errores global\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        console.error('API Error:', error.response?.data || error.message);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,2KAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,kCAAkC;AAClC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,sCAAgC,0BAAgC;IAC9E;;IAGA,OAAO;AACX,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG9B,mDAAmD;AACnD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,UACd,CAAC;IACG,QAAQ,KAAK,CAAC,cAAc,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;IACjE,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/features/auth/services/auth.service.ts"],"sourcesContent":["import api from '../../../lib/axios';\r\n\r\nexport interface LoginResponse {\r\n    user: {\r\n        id: string;\r\n        email: string;\r\n        fullName: string;\r\n        role: string;\r\n        teacherId?: string;\r\n    };\r\n    token: string;\r\n}\r\n\r\nexport const authService = {\r\n    async login(username: string, password: string): Promise<LoginResponse> {\r\n        const response = await api.post<LoginResponse>('/auth/login', { username, password });\r\n        return response.data;\r\n    },\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n    },\r\n\r\n    getCurrentUser() {\r\n        if (typeof window === 'undefined') return null;\r\n        const userStr = localStorage.getItem('user');\r\n        return userStr ? JSON.parse(userStr) : null;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAaO,MAAM,cAAc;IACvB,MAAM,OAAM,QAAgB,EAAE,QAAgB;QAC1C,MAAM,WAAW,MAAM,yJAAG,CAAC,IAAI,CAAgB,eAAe;YAAE;YAAU;QAAS;QACnF,OAAO,SAAS,IAAI;IACxB;IAEA;QACI,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IAEA;QACI,wCAAmC,OAAO;;;QAC1C,MAAM;IAEV;AACJ"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { authService } from \"@/features/auth/services/auth.service\";\r\n\r\nexport default function Home() {\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const user = authService.getCurrentUser();\r\n    if (user) {\r\n        router.push('/dashboard');\r\n    } else {\r\n        router.push('/login');\r\n    }\r\n  }, [router]);\r\n\r\n  // Spinner simple mientras redirige\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-upds-main\"></div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,0KAAS;IAExB,IAAA,6OAAS,EAAC;QACR,MAAM,OAAO,gMAAW,CAAC,cAAc;QACvC,IAAI,MAAM;YACN,OAAO,IAAI,CAAC;QAChB,OAAO;YACH,OAAO,IAAI,CAAC;QAChB;IACF,GAAG;QAAC;KAAO;IAEX,mCAAmC;IACnC,qBACE,yQAAC;QAAI,WAAU;kBACX,cAAA,yQAAC;YAAI,WAAU;;;;;;;;;;;AAGvB"}}]
}