{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/features/users/services/user.service.ts"],"sourcesContent":["import api from '../../../lib/axios';\r\nimport { authService } from '../../auth/services/auth.service';\r\n\r\nexport interface User {\r\n    id: string;\r\n    username: string;\r\n    email: string | null;\r\n    fullName: string;\r\n    role: 'SUPERADMIN' | 'ADMIN' | 'TEACHER' | 'STUDENT';\r\n    isActive: boolean;\r\n    createdAt: string;\r\n}\r\n\r\nexport const userService = {\r\n    async getAll(): Promise<User[]> {\r\n        const response = await api.get<User[]>('/users');\r\n        return response.data;\r\n    },\r\n\r\n    async create(data: { fullName: string; username: string; password: string; role: string; email?: string }): Promise<User> {\r\n        const response = await api.post<User>('/users', data);\r\n        return response.data;\r\n    },\r\n\r\n    async toggleStatus(id: string): Promise<User> {\r\n        const response = await api.patch<User>(`/users/${id}/status`);\r\n        return response.data;\r\n    },\r\n\r\n    async updateRole(id: string, role: string): Promise<User> {\r\n        const response = await api.patch<User>(`/users/${id}/role`, { role });\r\n        return response.data;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAaO,MAAM,cAAc;IACvB,MAAM;QACF,MAAM,WAAW,MAAM,yJAAG,CAAC,GAAG,CAAS;QACvC,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,QAAO,IAA4F;QACrG,MAAM,WAAW,MAAM,yJAAG,CAAC,IAAI,CAAO,UAAU;QAChD,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,cAAa,EAAU;QACzB,MAAM,WAAW,MAAM,yJAAG,CAAC,KAAK,CAAO,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC;QAC5D,OAAO,SAAS,IAAI;IACxB;IAEA,MAAM,YAAW,EAAU,EAAE,IAAY;QACrC,MAAM,WAAW,MAAM,yJAAG,CAAC,KAAK,CAAO,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,EAAE;YAAE;QAAK;QACnE,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/components/users/CreateUserModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { userService } from '@/features/users/services/user.service';\r\nimport { useToast } from '@/context/ToastContext';\r\n\r\ninterface CreateUserModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onUserCreated: () => void;\r\n}\r\n\r\nexport default function CreateUserModal({ isOpen, onClose, onUserCreated }: CreateUserModalProps) {\r\n    const { showToast } = useToast();\r\n    const [formData, setFormData] = useState({\r\n        fullName: '',\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        role: 'TEACHER'\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            await userService.create(formData);\r\n            showToast('Usuario creado exitosamente', 'success');\r\n            onUserCreated();\r\n            setFormData({ fullName: '', username: '', password: '', email: '', role: 'TEACHER' }); // Reset\r\n            onClose();\r\n        } catch (error: any) {\r\n            console.error(error);\r\n            showToast(error.response?.data?.error || 'Error al crear usuario', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const roleOptions = [\r\n        { id: 'TEACHER', label: 'Docente', description: 'Acceso a gesti√≥n de materias y horarios.', icon: 'üë®‚Äçüè´', color: 'border-blue-500 bg-blue-50 text-blue-700' },\r\n        { id: 'ADMIN', label: 'Coordinador', description: 'Gesti√≥n acad√©mica y reportes.', icon: 'üëî', color: 'border-red-500 bg-red-50 text-red-700' },\r\n        { id: 'SUPERADMIN', label: 'Super Admin', description: 'Control total del sistema.', icon: 'üõ°Ô∏è', color: 'border-yellow-500 bg-yellow-50 text-yellow-700' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n            {/* Backdrop Blur */}\r\n            <div className=\"fixed inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity\" onClick={onClose}></div>\r\n\r\n            <div className=\"flex min-h-screen items-center justify-center p-4\">\r\n                <div className=\"relative w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white text-left shadow-2xl transition-all\">\r\n                    \r\n                    {/* Header */}\r\n                    <div className=\"bg-gradient-to-r from-upds-main to-blue-900 px-6 py-4 flex justify-between items-center\">\r\n                        <div>\r\n                            <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                                <span className=\"bg-white/20 p-1.5 rounded-lg\">üë§</span>\r\n                                Nuevo Usuario\r\n                            </h3>\r\n                            <p className=\"text-blue-200 text-sm mt-0.5\">Complete la informaci√≥n para registrar un nuevo miembro.</p>\r\n                        </div>\r\n                        <button onClick={onClose} className=\"text-white/60 hover:text-white transition-colors\">\r\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" /></svg>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit} className=\"p-8\">\r\n                        \r\n                        {/* 1. Selecci√≥n de Rol */}\r\n                        <div className=\"mb-8\">\r\n                            <label className=\"block text-sm font-bold text-gray-700 mb-3 uppercase tracking-wide\">1. Seleccione el Rol</label>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                                {roleOptions.map((role) => (\r\n                                    <div \r\n                                        key={role.id}\r\n                                        onClick={() => setFormData({...formData, role: role.id})}\r\n                                        className={`cursor-pointer rounded-xl border-2 p-4 transition-all duration-200 hover:shadow-md ${formData.role === role.id ? role.color : 'border-gray-200 hover:border-gray-300 bg-white'}`}\r\n                                    >\r\n                                        <div className=\"text-2xl mb-2\">{role.icon}</div>\r\n                                        <div className=\"font-bold text-sm text-gray-900\">{role.label}</div>\r\n                                        <div className=\"text-xs text-gray-500 leading-tight mt-1\">{role.description}</div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* 2. Informaci√≥n del Usuario */}\r\n                        <div className=\"space-y-6\">\r\n                            <label className=\"block text-sm font-bold text-gray-700 uppercase tracking-wide border-b pb-2\">2. Informaci√≥n Personal & Acceso</label>\r\n                            \r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nombre Completo</label>\r\n                                    <input \r\n                                        type=\"text\" required\r\n                                        placeholder=\"Ej: Juan P√©rez\"\r\n                                        className=\"w-full rounded-lg border-gray-300 border px-4 py-2.5 outline-none focus:ring-2 focus:ring-upds-main/20 focus:border-upds-main transition-all\"\r\n                                        value={formData.fullName}\r\n                                        onChange={e => setFormData({...formData, fullName: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Correo Electr√≥nico (Opcional)</label>\r\n                                    <input \r\n                                        type=\"email\" \r\n                                        placeholder=\"juan@upds.edu.bo\"\r\n                                        className=\"w-full rounded-lg border-gray-300 border px-4 py-2.5 outline-none focus:ring-2 focus:ring-upds-main/20 focus:border-upds-main transition-all\"\r\n                                        value={formData.email}\r\n                                        onChange={e => setFormData({...formData, email: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-100\">\r\n                                    <label className=\"block text-xs font-bold text-gray-500 uppercase mb-1\">Usuario (Login)</label>\r\n                                    <div className=\"relative\">\r\n                                        <span className=\"absolute left-3 top-2.5 text-gray-400\">@</span>\r\n                                        <input \r\n                                            type=\"text\" required\r\n                                            placeholder=\"jperez\"\r\n                                            className=\"w-full pl-8 rounded-md border-gray-300 border px-3 py-2 outline-none focus:border-upds-main focus:ring-1 focus:ring-upds-main transition-all bg-white\"\r\n                                            value={formData.username}\r\n                                            onChange={e => setFormData({...formData, username: e.target.value})}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-100\">\r\n                                    <label className=\"block text-xs font-bold text-gray-500 uppercase mb-1\">Contrase√±a Inicial</label>\r\n                                    <input \r\n                                        type=\"text\" required\r\n                                        placeholder=\"********\"\r\n                                        className=\"w-full rounded-md border-gray-300 border px-3 py-2 outline-none focus:border-upds-main focus:ring-1 focus:ring-upds-main transition-all bg-white font-mono text-sm\"\r\n                                        value={formData.password}\r\n                                        onChange={e => setFormData({...formData, password: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Footer Buttons */}\r\n                        <div className=\"mt-10 flex gap-4 pt-4 border-t border-gray-100\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors\"\r\n                                onClick={onClose}\r\n                            >\r\n                                Cancelar\r\n                            </button>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={loading}\r\n                                className=\"flex-[2] px-4 py-2.5 bg-upds-main text-white font-bold rounded-lg hover:bg-blue-900 shadow-lg hover:shadow-xl transition-all disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2\"\r\n                            >\r\n                                {loading ? (\r\n                                    <>\r\n                                        <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\"></circle><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\r\n                                        Procesando...\r\n                                    </>\r\n                                ) : (\r\n                                    'Crear Usuario'\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/app/dashboard/users/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { userService, User } from '@/features/users/services/user.service';\r\nimport CreateUserModal from '@/components/users/CreateUserModal';\r\nimport { useToast } from '@/context/ToastContext';\r\nimport { authService } from '@/features/auth/services/auth.service';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function UsersPage() {\r\n    const router = useRouter();\r\n    const { showToast } = useToast();\r\n    const [users, setUsers] = useState<User[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n    const [currentUser, setCurrentUser] = useState<any>(null);\r\n\r\n    useEffect(() => {\r\n        const user = authService.getCurrentUser();\r\n        if (!user || user.role !== 'SUPERADMIN') {\r\n            showToast('No tienes permiso para ver esta p√°gina', 'error');\r\n            router.push('/dashboard');\r\n            return;\r\n        }\r\n        setCurrentUser(user);\r\n        loadUsers();\r\n    }, [router, showToast]);\r\n\r\n    const loadUsers = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const data = await userService.getAll();\r\n            setUsers(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n            showToast('Error al cargar usuarios', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleToggleStatus = async (id: string, currentStatus: boolean) => {\r\n        try {\r\n            await userService.toggleStatus(id);\r\n            setUsers(users.map(u => u.id === id ? { ...u, isActive: !currentStatus } : u));\r\n            showToast('Estado de usuario actualizado', 'success');\r\n        } catch (error) {\r\n            showToast('Error al actualizar estado', 'error');\r\n        }\r\n    };\r\n\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [roleFilter, setRoleFilter] = useState('ALL');\r\n\r\n    const filteredUsers = users.filter(user => {\r\n        const matchesSearch = \r\n            user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            (user.email && user.email.toLowerCase().includes(searchTerm.toLowerCase()));\r\n        \r\n        const matchesRole = roleFilter === 'ALL' || user.role === roleFilter;\r\n\r\n        return matchesSearch && matchesRole;\r\n    });\r\n\r\n    const roleTranslations: Record<string, string> = {\r\n        SUPERADMIN: 'Super Administrador',\r\n        ADMIN: 'Coordinador',\r\n        TEACHER: 'Docente',\r\n        STUDENT: 'Estudiante',\r\n    };\r\n    \r\n    const roleColors: Record<string, string> = {\r\n        SUPERADMIN: 'bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-300',\r\n        ADMIN: 'bg-red-100 text-red-800 border-red-200',\r\n        TEACHER: 'bg-blue-100 text-blue-800 border-blue-200',\r\n        STUDENT: 'bg-gray-100 text-gray-800 border-gray-200',\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 p-6\">\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                {/* Header ... */}\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\r\n                     {/* ... Title section ... */}\r\n                     <div>\r\n                        <div className=\"flex items-center gap-2 text-sm text-gray-500 mb-1\">\r\n                            <span onClick={() => router.push('/dashboard')} className=\"cursor-pointer hover:text-upds-main transition-colors\">Dashboard</span>\r\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" /></svg>\r\n                            <span className=\"font-medium text-gray-900\">Usuarios</span>\r\n                        </div>\r\n                        <h1 className=\"text-3xl font-extrabold text-gray-900 tracking-tight\">Gesti√≥n de Usuarios</h1>\r\n                        <p className=\"text-gray-500 mt-1\">Administra el acceso y roles de todo el personal acad√©mico.</p>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3 w-full md:w-auto\">\r\n                        <button \r\n                             onClick={() => router.push('/dashboard')}\r\n                             className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-upds-main shadow-sm transition-all\"\r\n                        >\r\n                            Volver\r\n                        </button>\r\n                        <button \r\n                            onClick={() => setIsCreateModalOpen(true)}\r\n                            className=\"flex-1 md:flex-none bg-upds-main text-white px-5 py-2.5 rounded-lg hover:bg-blue-900 transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2 font-medium\"\r\n                        >\r\n                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>\r\n                            Nuevo Usuario\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Filters & Search Bar */}\r\n                <div className=\"bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6 flex flex-col md:flex-row gap-4 items-center justify-between\">\r\n                    <div className=\"relative w-full md:w-96\">\r\n                        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" /></svg>\r\n                        </div>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-upds-main focus:border-upds-main sm:text-sm transition duration-150 ease-in-out\"\r\n                            placeholder=\"Buscar usuario por nombre, email o cuenta...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center gap-2 w-full md:w-auto\">\r\n                        <label className=\"text-sm font-medium text-gray-700 whitespace-nowrap\">Filtrar por Rol:</label>\r\n                        <select\r\n                            value={roleFilter}\r\n                            onChange={(e) => setRoleFilter(e.target.value)}\r\n                            className=\"block w-full md:w-48 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-upds-main focus:border-upds-main sm:text-sm rounded-md\"\r\n                        >\r\n                            <option value=\"ALL\">Todos los Roles</option>\r\n                            <option value=\"Docente\">Docente</option> {/* Using rendered values logic issue? No, filter logic uses raw values. Let's fix this logic below */}\r\n                            <option value=\"SUPERADMIN\">Super Admin</option>\r\n                            <option value=\"ADMIN\">Coordinador</option>\r\n                            <option value=\"TEACHER\">Docente</option>\r\n                            <option value=\"STUDENT\">Estudiante</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead className=\"bg-gray-50\">\r\n                            <tr>\r\n                                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Usuario</th>\r\n                                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Rol</th>\r\n                                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Estado</th>\r\n                                <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Fecha Alta</th>\r\n                                <th scope=\"col\" className=\"relative px-6 py-3\"><span className=\"sr-only\">Acciones</span></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                            {filteredUsers.length > 0 ? (\r\n                                filteredUsers.map((user) => (\r\n                                <tr key={user.id} className=\"hover:bg-gray-50 transition-colors group\">\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div className=\"h-10 w-10 flex-shrink-0\">\r\n                                                <div className=\"h-10 w-10 rounded-full bg-upds-light flex items-center justify-center text-white font-bold shadow-sm ring-2 ring-white\">\r\n                                                    {user.fullName.charAt(0)}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"ml-4\">\r\n                                                <div className=\"text-sm font-bold text-gray-900 group-hover:text-upds-main transition-colors\">{user.fullName}</div>\r\n                                                <div className=\"text-sm text-gray-500\">@{user.username}</div>\r\n                                                {user.email && <div className=\"text-xs text-gray-400\">{user.email}</div>}\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <span className={`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full border shadow-sm ${roleColors[user.role] || 'bg-gray-100 text-gray-800'}`}>\r\n                                            {roleTranslations[user.role] || user.role}\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        {user.isActive ? (\r\n                                            <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">Activo</span>\r\n                                        ) : (\r\n                                            <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\">Inactivo</span>\r\n                                        )}\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                        {new Date(user.createdAt).toLocaleDateString()}\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                                        <button \r\n                                            onClick={() => handleToggleStatus(user.id, user.isActive)}\r\n                                            disabled={user.username === 'superadmin'} // Protecci√≥n mock\r\n                                            className={`${user.isActive ? 'text-red-600 hover:text-red-900' : 'text-green-600 hover:text-green-900'} font-semibold disabled:opacity-30 disabled:cursor-not-allowed`}\r\n                                        >\r\n                                            {user.isActive ? 'Desactivar' : 'Activar'}\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                            ) : (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"px-6 py-10 text-center text-gray-500\">\r\n                                        No se encontraron usuarios que coincidan con la b√∫squeda.\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <CreateUserModal \r\n                isOpen={isCreateModalOpen} \r\n                onClose={() => setIsCreateModalOpen(false)}\r\n                onUserCreated={loadUsers}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}