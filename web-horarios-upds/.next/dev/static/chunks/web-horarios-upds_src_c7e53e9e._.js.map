{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/features/teachers/services/teacher.service.ts"],"sourcesContent":["import api from '@/lib/axios';\r\n\r\nexport interface Teacher {\r\n    id: string;\r\n    specialty: string | null;\r\n    contractType: string | null;\r\n    user: {\r\n        id: string;\r\n        fullName: string;\r\n        username: string;\r\n        email: string | null;\r\n        isActive: boolean;\r\n    };\r\n}\r\n\r\nexport const teacherService = {\r\n    getAll: async (): Promise<Teacher[]> => {\r\n        const response = await api.get('/teachers');\r\n        return response.data;\r\n    },\r\n\r\n    create: async (data: any) => {\r\n        const response = await api.post('/teachers', data);\r\n        return response.data;\r\n    },\r\n\r\n    update: async (id: string, data: any) => {\r\n        const response = await api.put(`/teachers/${id}`, data);\r\n        return response.data;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAeO,MAAM,iBAAiB;IAC1B,QAAQ;QACJ,MAAM,WAAW,MAAM,4JAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACxB;IAEA,QAAQ,OAAO;QACX,MAAM,WAAW,MAAM,4JAAG,CAAC,IAAI,CAAC,aAAa;QAC7C,OAAO,SAAS,IAAI;IACxB;IAEA,QAAQ,OAAO,IAAY;QACvB,MAAM,WAAW,MAAM,4JAAG,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE;QAClD,OAAO,SAAS,IAAI;IACxB;AACJ"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/app/dashboard/teachers/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { teacherService, Teacher } from '@/features/teachers/services/teacher.service';\r\nimport { useToast } from '@/context/ToastContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function TeachersPage() {\r\n    const router = useRouter();\r\n    const { showToast } = useToast();\r\n    const [teachers, setTeachers] = useState<Teacher[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    // Form State\r\n    const [formData, setFormData] = useState({\r\n        fullName: '',\r\n        username: '',\r\n        email: '',\r\n        specialty: '',\r\n        contractType: 'FULL_TIME'\r\n    });\r\n\r\n    useEffect(() => {\r\n        loadTeachers();\r\n    }, []);\r\n\r\n    const loadTeachers = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const data = await teacherService.getAll();\r\n            setTeachers(data);\r\n        } catch (error) {\r\n            console.error(error);\r\n            showToast('Error al cargar docentes', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            await teacherService.create(formData);\r\n            showToast('Docente registrado exitosamente', 'success');\r\n            setIsModalOpen(false);\r\n            setFormData({ fullName: '', username: '', email: '', specialty: '', contractType: 'FULL_TIME' });\r\n            loadTeachers();\r\n        } catch (error: any) {\r\n            showToast(error.response?.data?.error || 'Error al crear docente', 'error');\r\n        }\r\n    };\r\n\r\n    const filteredTeachers = teachers.filter(t => \r\n        t.user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) || \r\n        t.specialty?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 p-6\">\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\r\n                    <div>\r\n                        <div className=\"flex items-center gap-2 text-sm text-gray-500 mb-1\">\r\n                            <span onClick={() => router.push('/dashboard')} className=\"cursor-pointer hover:text-upds-main transition-colors\">Dashboard</span>\r\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" /></svg>\r\n                            <span className=\"font-medium text-gray-900\">Docentes</span>\r\n                        </div>\r\n                        <h1 className=\"text-3xl font-extrabold text-gray-900 tracking-tight\">Gestión de Docentes</h1>\r\n                        <p className=\"text-gray-500 mt-1\">Administra la planta docente y sus asignaciones.</p>\r\n                    </div>\r\n                    <button \r\n                        onClick={() => setIsModalOpen(true)}\r\n                        className=\"bg-upds-main text-white px-5 py-2.5 rounded-lg hover:bg-blue-900 transition-all shadow-md flex items-center gap-2 font-medium\"\r\n                    >\r\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" /></svg>\r\n                        Nuevo Docente\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Search */}\r\n                <div className=\"bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6\">\r\n                    <div className=\"relative max-w-md\">\r\n                        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                            <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" /></svg>\r\n                        </div>\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-upds-main focus:border-upds-main sm:text-sm\"\r\n                            placeholder=\"Buscar docente por nombre o especialidad...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Table */}\r\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                        <thead className=\"bg-gray-50\">\r\n                            <tr>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Docente</th>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Especialidad</th>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Contrato</th>\r\n                                <th className=\"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider\">Estado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                            {filteredTeachers.map((teacher) => (\r\n                                <tr key={teacher.id} className=\"hover:bg-gray-50\">\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div className=\"h-10 w-10 flex-shrink-0 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold\">\r\n                                                {teacher.user.fullName.charAt(0)}\r\n                                            </div>\r\n                                            <div className=\"ml-4\">\r\n                                                <div className=\"text-sm font-medium text-gray-900\">{teacher.user.fullName}</div>\r\n                                                <div className=\"text-sm text-gray-500\">{teacher.user.email}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                        {teacher.specialty || 'Sin asignar'}\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                        {teacher.contractType}\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${teacher.user.isActive ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n                                            {teacher.user.isActive ? 'Activo' : 'Inactivo'}\r\n                                        </span>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                {/* Modal Simplificado */}\r\n                {isModalOpen && (\r\n                    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n                         <div className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\" onClick={() => setIsModalOpen(false)}></div>\r\n                         <div className=\"flex min-h-full items-center justify-center p-4\">\r\n                            <div className=\"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\r\n                                <h3 className=\"text-lg font-bold mb-4\">Registrar Nuevo Docente</h3>\r\n                                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700\">Nombre Completo</label>\r\n                                        <input type=\"text\" required className=\"w-full border rounded-md p-2\" value={formData.fullName} onChange={e => setFormData({...formData, fullName: e.target.value})} />\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                         <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700\">Usuario</label>\r\n                                            <input type=\"text\" required className=\"w-full border rounded-md p-2\" value={formData.username} onChange={e => setFormData({...formData, username: e.target.value})} />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n                                            <input type=\"email\" className=\"w-full border rounded-md p-2\" value={formData.email} onChange={e => setFormData({...formData, email: e.target.value})} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700\">Especialidad</label>\r\n                                        <input type=\"text\" className=\"w-full border rounded-md p-2\" placeholder=\"Ej: Redes, Programación...\" value={formData.specialty} onChange={e => setFormData({...formData, specialty: e.target.value})} />\r\n                                    </div>\r\n                                    <div className=\"flex justify-end gap-2 mt-6\">\r\n                                        <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"px-4 py-2 border rounded-md text-gray-600\">Cancelar</button>\r\n                                        <button type=\"submit\" className=\"px-4 py-2 bg-upds-main text-white rounded-md hover:bg-blue-900\">Guardar Docente</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                         </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}