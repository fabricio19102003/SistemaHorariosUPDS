{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/lib/axios.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3001/api',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Interceptor para inyectar Token\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\n// Interceptor para logs o manejo de errores global\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        console.error('API Error:', error.response?.data || error.message);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,8KAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,kCAAkC;AAClC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,uCAAgC,aAAa,OAAO,CAAC,WAAW;IAC9E,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG9B,mDAAmD;AACnD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,UACd,CAAC;IACG,QAAQ,KAAK,CAAC,cAAc,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;IACjE,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/features/auth/services/auth.service.ts"],"sourcesContent":["import api from '../../../lib/axios';\r\n\r\nexport interface LoginResponse {\r\n    user: {\r\n        id: string;\r\n        email: string;\r\n        fullName: string;\r\n        role: string;\r\n        teacherId?: string;\r\n    };\r\n    token: string;\r\n}\r\n\r\nexport const authService = {\r\n    async login(username: string, password: string): Promise<LoginResponse> {\r\n        const response = await api.post<LoginResponse>('/auth/login', { username, password });\r\n        return response.data;\r\n    },\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/login';\r\n    },\r\n\r\n    getCurrentUser() {\r\n        if (typeof window === 'undefined') return null;\r\n        const userStr = localStorage.getItem('user');\r\n        return userStr ? JSON.parse(userStr) : null;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAaO,MAAM,cAAc;IACvB,MAAM,OAAM,QAAgB,EAAE,QAAgB;QAC1C,MAAM,WAAW,MAAM,4JAAG,CAAC,IAAI,CAAgB,eAAe;YAAE;YAAU;QAAS;QACnF,OAAO,SAAS,IAAI;IACxB;IAEA;QACI,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IAEA;QACI;;QACA,MAAM,UAAU,aAAa,OAAO,CAAC;QACrC,OAAO,UAAU,KAAK,KAAK,CAAC,WAAW;IAC3C;AACJ"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///D:/Trabajo/Repositorios/SistemasHorariosUPDS/SistemaHorariosUPDS/web-horarios-upds/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Image from 'next/image';\r\nimport { authService } from '../../features/auth/services/auth.service';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const data = await authService.login(username, password);\r\n            \r\n            // Guardar sesión básica (Mejorar con Context/Zustand luego)\r\n            localStorage.setItem('token', data.token);\r\n            localStorage.setItem('user', JSON.stringify(data.user));\r\n\r\n            router.push('/dashboard');\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            setError(err.response?.data?.error || 'Error al iniciar sesión');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-upds-main\">\r\n            {/* Overlay Pattern opcional o degradado */}\r\n            <div className=\"absolute inset-0 bg-gradient-to-br from-upds-main to-black opacity-50 z-0\"></div>\r\n\r\n            <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md z-10 border border-gray-200\">\r\n                <div className=\"flex flex-col items-center mb-8\">\r\n                    <div className=\"relative w-48 h-16 mb-4\">\r\n                        <Image \r\n                            src=\"/upds-logo.png\" \r\n                            alt=\"Logo UPDS\" \r\n                            fill \r\n                            className=\"object-contain\"\r\n                            priority\r\n                        />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold text-upds-main\">Gestión de Horarios</h2>\r\n                    <p className=\"text-gray-500 text-sm\">Facultad de Medicina</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleLogin} className=\"space-y-6\">\r\n                    {error && (\r\n                        <div className=\"bg-red-50 text-red-600 p-3 rounded-md text-sm text-center border border-red-200\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Usuario</label>\r\n                        <input \r\n                            type=\"text\" \r\n                            required\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-upds-light focus:border-upds-light outline-none transition-all\"\r\n                            placeholder=\"jperez\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Contraseña</label>\r\n                        <input \r\n                            type=\"password\" \r\n                            required\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-upds-light focus:border-upds-light outline-none transition-all\"\r\n                            placeholder=\"••••••••\"\r\n                        />\r\n                    </div>\r\n\r\n                    <button \r\n                        type=\"submit\" \r\n                        disabled={loading}\r\n                        className=\"w-full bg-upds-main text-white py-3 rounded-lg font-semibold hover:bg-blue-900 transition-colors disabled:opacity-50 shadow-lg hover:shadow-xl\"\r\n                    >\r\n                        {loading ? 'Ingresando...' : 'Iniciar Sesión'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-6 text-center text-xs text-gray-400\">\r\n                    © 2026 UPDS - Sistema de Gestión Académica\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACpB,MAAM,SAAS,IAAA,6KAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,oMAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,oMAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oMAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oMAAQ,EAAC;IAEvC,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACA,MAAM,OAAO,MAAM,mMAAW,CAAC,KAAK,CAAC,UAAU;YAE/C,4DAA4D;YAC5D,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;YACxC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;YAErD,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC;YACd,SAAS,IAAI,QAAQ,EAAE,MAAM,SAAS;QAC1C,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,wNAAC;QAAI,WAAU;;0BAEX,wNAAC;gBAAI,WAAU;;;;;;0BAEf,wNAAC;gBAAI,WAAU;;kCACX,wNAAC;wBAAI,WAAU;;0CACX,wNAAC;gCAAI,WAAU;0CACX,cAAA,wNAAC,sKAAK;oCACF,KAAI;oCACJ,KAAI;oCACJ,IAAI;oCACJ,WAAU;oCACV,QAAQ;;;;;;;;;;;0CAGhB,wNAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,wNAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAGzC,wNAAC;wBAAK,UAAU;wBAAa,WAAU;;4BAClC,uBACG,wNAAC;gCAAI,WAAU;0CACV;;;;;;0CAIT,wNAAC;;kDACG,wNAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAChE,wNAAC;wCACG,MAAK;wCACL,QAAQ;wCACR,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,WAAU;wCACV,aAAY;;;;;;;;;;;;0CAIpB,wNAAC;;kDACG,wNAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAChE,wNAAC;wCACG,MAAK;wCACL,QAAQ;wCACR,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,WAAU;wCACV,aAAY;;;;;;;;;;;;0CAIpB,wNAAC;gCACG,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,UAAU,kBAAkB;;;;;;;;;;;;kCAIrC,wNAAC;wBAAI,WAAU;kCAAyC;;;;;;;;;;;;;;;;;;AAMxE;GA9FwB;;QACL,6KAAS;;;KADJ"}}]
}